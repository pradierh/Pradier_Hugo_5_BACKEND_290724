{"ast":null,"code":"import axios from \"axios\";\nimport { API_ROUTES } from \"../utils/constants\";\nlet books = [{\n  _id: \"66b8cbce392ef16fae7ff5bb\",\n  userId: \"66ae3ecfa9d9ec375e16515c\",\n  title: \"La nuit des temps\",\n  author: \"Barjavel\",\n  imageUrl: \"http://localhost:4000/images/barjavel.jpg1723386830224.jpg\"\n}, {\n  _id: \"66b8c939392ef16fae7ff5b2\",\n  userId: \"66ae3ecfa9d9ec375e16515c\",\n  title: \"Hey\",\n  author: \"Ho\",\n  imageUrl: \"http://localhost:4000/images/Screenshot_2024-07-21_at_21.50.23.png1723386169446.png\"\n}, {\n  _id: \"66b8cc2e392ef16fae7ff5d3\",\n  userId: \"66ae3ecfa9d9ec375e16515c\",\n  title: \"Foundation\",\n  author: \"Isaac Asimov\",\n  imageUrl: \"http://localhost:4000/images/asimov.jpg1723386926545.jpg\"\n}];\nfunction formatBooks(bookArray) {\n  console.log(books);\n  return bookArray.map(books => {\n    const newBook = {\n      ...book\n    };\n    // eslint-disable-next-line no-underscore-dangle\n    newBook.id = newBook._id;\n    return newBook;\n  });\n}\nexport function storeInLocalStorage(token, userId) {\n  localStorage.setItem(\"token\", token);\n  localStorage.setItem(\"userId\", userId);\n}\nexport function getFromLocalStorage(item) {\n  return localStorage.getItem(item);\n}\nexport async function getAuthenticatedUser() {\n  const defaultReturnObject = {\n    authenticated: false,\n    user: null\n  };\n  try {\n    const token = getFromLocalStorage(\"token\");\n    const userId = getFromLocalStorage(\"userId\");\n    if (!token) {\n      return defaultReturnObject;\n    }\n    return {\n      authenticated: true,\n      user: {\n        userId,\n        token\n      }\n    };\n  } catch (err) {\n    console.error(\"getAuthenticatedUser, Something Went Wrong\", err);\n    return defaultReturnObject;\n  }\n}\nexport async function getBooks() {\n  try {\n    const response = await axios({\n      method: \"GET\",\n      url: `${API_ROUTES.BOOKS}`\n    });\n    // eslint-disable-next-line array-callback-return\n    const books = formatBooks(response.data);\n    return books;\n  } catch (err) {\n    console.error(err);\n    return [];\n  }\n}\nexport async function getBook(id) {\n  try {\n    const response = await axios({\n      method: \"GET\",\n      url: `${API_ROUTES.BOOKS}/${id}`\n    });\n    const book = response.data;\n    // eslint-disable-next-line no-underscore-dangle\n    book.id = book._id;\n    return book;\n  } catch (err) {\n    console.error(err);\n    return null;\n  }\n}\nexport async function getBestRatedBooks() {\n  try {\n    const response = await axios({\n      method: \"GET\",\n      url: `${API_ROUTES.BEST_RATED}`\n    });\n    return formatBooks(response.data);\n  } catch (e) {\n    console.error(e);\n    return [];\n  }\n}\nexport async function deleteBook(id) {\n  try {\n    await axios.delete(`${API_ROUTES.BOOKS}/${id}`, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    });\n    return true;\n  } catch (err) {\n    console.error(err);\n    return false;\n  }\n}\nexport async function rateBook(id, userId, rating) {\n  const data = {\n    userId,\n    rating: parseInt(rating, 10)\n  };\n  try {\n    const response = await axios.post(`${API_ROUTES.BOOKS}/${id}/rating`, data, {\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    });\n    const book = response.data;\n    // eslint-disable-next-line no-underscore-dangle\n    book.id = book._id;\n    return book;\n  } catch (e) {\n    console.error(e);\n    return e.message;\n  }\n}\nexport async function addBook(data) {\n  const userId = localStorage.getItem(\"userId\");\n  const book = {\n    userId,\n    title: data.title,\n    author: data.author,\n    year: data.year,\n    genre: data.genre,\n    ratings: [{\n      userId,\n      grade: data.rating ? parseInt(data.rating, 10) : 0\n    }],\n    averageRating: parseInt(data.rating, 10)\n  };\n  const bodyFormData = new FormData();\n  bodyFormData.append(\"book\", JSON.stringify(book));\n  bodyFormData.append(\"image\", data.file[0]);\n  try {\n    return await axios({\n      method: \"post\",\n      url: `${API_ROUTES.BOOKS}`,\n      data: bodyFormData,\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    });\n  } catch (err) {\n    console.error(err);\n    return {\n      error: true,\n      message: err.message\n    };\n  }\n}\nexport async function updateBook(data, id) {\n  const userId = localStorage.getItem(\"userId\");\n  let newData;\n  const book = {\n    userId,\n    title: data.title,\n    author: data.author,\n    year: data.year,\n    genre: data.genre\n  };\n  console.log(data.file[0]);\n  if (data.file[0]) {\n    newData = new FormData();\n    newData.append(\"book\", JSON.stringify(book));\n    newData.append(\"image\", data.file[0]);\n  } else {\n    newData = {\n      ...book\n    };\n  }\n  try {\n    const newBook = await axios({\n      method: \"put\",\n      url: `${API_ROUTES.BOOKS}/${id}`,\n      data: newData,\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    });\n    return newBook;\n  } catch (err) {\n    console.error(err);\n    return {\n      error: true,\n      message: err.message\n    };\n  }\n}","map":{"version":3,"names":["axios","API_ROUTES","books","_id","userId","title","author","imageUrl","formatBooks","bookArray","console","log","map","newBook","book","id","storeInLocalStorage","token","localStorage","setItem","getFromLocalStorage","item","getItem","getAuthenticatedUser","defaultReturnObject","authenticated","user","err","error","getBooks","response","method","url","BOOKS","data","getBook","getBestRatedBooks","BEST_RATED","e","deleteBook","delete","headers","Authorization","rateBook","rating","parseInt","post","message","addBook","year","genre","ratings","grade","averageRating","bodyFormData","FormData","append","JSON","stringify","file","updateBook","newData"],"sources":["/Users/hugopradier/github/Pradier_Hugo_6_BACKEND_290724/frontendLast/src/lib/common.js"],"sourcesContent":["import axios from \"axios\";\nimport { API_ROUTES } from \"../utils/constants\";\n\nlet books = [\n\t{\n\t\t_id: \"66b8cbce392ef16fae7ff5bb\",\n\t\tuserId: \"66ae3ecfa9d9ec375e16515c\",\n\t\ttitle: \"La nuit des temps\",\n\t\tauthor: \"Barjavel\",\n\t\timageUrl: \"http://localhost:4000/images/barjavel.jpg1723386830224.jpg\",\n\t},\n\t{\n\t\t_id: \"66b8c939392ef16fae7ff5b2\",\n\t\tuserId: \"66ae3ecfa9d9ec375e16515c\",\n\t\ttitle: \"Hey\",\n\t\tauthor: \"Ho\",\n\t\timageUrl:\n\t\t\t\"http://localhost:4000/images/Screenshot_2024-07-21_at_21.50.23.png1723386169446.png\",\n\t},\n\t{\n\t\t_id: \"66b8cc2e392ef16fae7ff5d3\",\n\t\tuserId: \"66ae3ecfa9d9ec375e16515c\",\n\t\ttitle: \"Foundation\",\n\t\tauthor: \"Isaac Asimov\",\n\t\timageUrl: \"http://localhost:4000/images/asimov.jpg1723386926545.jpg\",\n\t},\n];\n\nfunction formatBooks(bookArray) {\n\tconsole.log(books);\n\treturn bookArray.map((books) => {\n\t\tconst newBook = { ...book };\n\t\t// eslint-disable-next-line no-underscore-dangle\n\t\tnewBook.id = newBook._id;\n\t\treturn newBook;\n\t});\n}\n\nexport function storeInLocalStorage(token, userId) {\n\tlocalStorage.setItem(\"token\", token);\n\tlocalStorage.setItem(\"userId\", userId);\n}\n\nexport function getFromLocalStorage(item) {\n\treturn localStorage.getItem(item);\n}\n\nexport async function getAuthenticatedUser() {\n\tconst defaultReturnObject = { authenticated: false, user: null };\n\ttry {\n\t\tconst token = getFromLocalStorage(\"token\");\n\t\tconst userId = getFromLocalStorage(\"userId\");\n\t\tif (!token) {\n\t\t\treturn defaultReturnObject;\n\t\t}\n\t\treturn { authenticated: true, user: { userId, token } };\n\t} catch (err) {\n\t\tconsole.error(\"getAuthenticatedUser, Something Went Wrong\", err);\n\t\treturn defaultReturnObject;\n\t}\n}\n\nexport async function getBooks() {\n\ttry {\n\t\tconst response = await axios({\n\t\t\tmethod: \"GET\",\n\t\t\turl: `${API_ROUTES.BOOKS}`,\n\t\t});\n\t\t// eslint-disable-next-line array-callback-return\n\t\tconst books = formatBooks(response.data);\n\t\treturn books;\n\t} catch (err) {\n\t\tconsole.error(err);\n\t\treturn [];\n\t}\n}\n\nexport async function getBook(id) {\n\ttry {\n\t\tconst response = await axios({\n\t\t\tmethod: \"GET\",\n\t\t\turl: `${API_ROUTES.BOOKS}/${id}`,\n\t\t});\n\t\tconst book = response.data;\n\t\t// eslint-disable-next-line no-underscore-dangle\n\t\tbook.id = book._id;\n\t\treturn book;\n\t} catch (err) {\n\t\tconsole.error(err);\n\t\treturn null;\n\t}\n}\n\nexport async function getBestRatedBooks() {\n\ttry {\n\t\tconst response = await axios({\n\t\t\tmethod: \"GET\",\n\t\t\turl: `${API_ROUTES.BEST_RATED}`,\n\t\t});\n\t\treturn formatBooks(response.data);\n\t} catch (e) {\n\t\tconsole.error(e);\n\t\treturn [];\n\t}\n}\nexport async function deleteBook(id) {\n\ttry {\n\t\tawait axios.delete(`${API_ROUTES.BOOKS}/${id}`, {\n\t\t\theaders: {\n\t\t\t\tAuthorization: `Bearer ${localStorage.getItem(\"token\")}`,\n\t\t\t},\n\t\t});\n\t\treturn true;\n\t} catch (err) {\n\t\tconsole.error(err);\n\t\treturn false;\n\t}\n}\n\nexport async function rateBook(id, userId, rating) {\n\tconst data = {\n\t\tuserId,\n\t\trating: parseInt(rating, 10),\n\t};\n\n\ttry {\n\t\tconst response = await axios.post(\n\t\t\t`${API_ROUTES.BOOKS}/${id}/rating`,\n\t\t\tdata,\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: `Bearer ${localStorage.getItem(\"token\")}`,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconst book = response.data;\n\t\t// eslint-disable-next-line no-underscore-dangle\n\t\tbook.id = book._id;\n\t\treturn book;\n\t} catch (e) {\n\t\tconsole.error(e);\n\t\treturn e.message;\n\t}\n}\n\nexport async function addBook(data) {\n\tconst userId = localStorage.getItem(\"userId\");\n\tconst book = {\n\t\tuserId,\n\t\ttitle: data.title,\n\t\tauthor: data.author,\n\t\tyear: data.year,\n\t\tgenre: data.genre,\n\t\tratings: [\n\t\t\t{\n\t\t\t\tuserId,\n\t\t\t\tgrade: data.rating ? parseInt(data.rating, 10) : 0,\n\t\t\t},\n\t\t],\n\t\taverageRating: parseInt(data.rating, 10),\n\t};\n\tconst bodyFormData = new FormData();\n\tbodyFormData.append(\"book\", JSON.stringify(book));\n\tbodyFormData.append(\"image\", data.file[0]);\n\n\ttry {\n\t\treturn await axios({\n\t\t\tmethod: \"post\",\n\t\t\turl: `${API_ROUTES.BOOKS}`,\n\t\t\tdata: bodyFormData,\n\t\t\theaders: {\n\t\t\t\tAuthorization: `Bearer ${localStorage.getItem(\"token\")}`,\n\t\t\t},\n\t\t});\n\t} catch (err) {\n\t\tconsole.error(err);\n\t\treturn { error: true, message: err.message };\n\t}\n}\n\nexport async function updateBook(data, id) {\n\tconst userId = localStorage.getItem(\"userId\");\n\n\tlet newData;\n\tconst book = {\n\t\tuserId,\n\t\ttitle: data.title,\n\t\tauthor: data.author,\n\t\tyear: data.year,\n\t\tgenre: data.genre,\n\t};\n\tconsole.log(data.file[0]);\n\tif (data.file[0]) {\n\t\tnewData = new FormData();\n\t\tnewData.append(\"book\", JSON.stringify(book));\n\t\tnewData.append(\"image\", data.file[0]);\n\t} else {\n\t\tnewData = { ...book };\n\t}\n\n\ttry {\n\t\tconst newBook = await axios({\n\t\t\tmethod: \"put\",\n\t\t\turl: `${API_ROUTES.BOOKS}/${id}`,\n\t\t\tdata: newData,\n\t\t\theaders: {\n\t\t\t\tAuthorization: `Bearer ${localStorage.getItem(\"token\")}`,\n\t\t\t},\n\t\t});\n\t\treturn newBook;\n\t} catch (err) {\n\t\tconsole.error(err);\n\t\treturn { error: true, message: err.message };\n\t}\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}